<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title> {{ 'REFUGES.UPDATE.HEADER' | translate}} </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="sign-up-logo" (click)="pickImage()">
    <img
      src="{{ getImageUrl() }}"
      alt="Image of a mountain terrain being constructed"
    />
  </div>
  <div class="create-refuge-form">
    <form #updateRefugeForm="ngForm" novalidate>
      <ion-input
        label="{{ 'REFUGES.FORM.NAME.LABEL' | translate}}"
        label-placement="stacked"
        fill="outline"
        clear-input="true"
        autocapitalize="on"
        [(ngModel)]="form.name"
        name="name"
        type="text"
        errorText="{{ 'REFUGES.FORM.NAME.ERROR' | translate}}"
        required="true"
      >
      </ion-input>
      <ion-input
        label=" {{ 'REFUGES.FORM.REGION.LABEL' | translate}}"
        label-placement="stacked"
        fill="outline"
        clearInput="true"
        autocapitalize="on"
        [(ngModel)]="form.region"
        name="region"
        type="text"
        errorText=" {{ 'REFUGES.FORM.REGION.ERROR' | translate}}"
        required="true"
      >
      </ion-input>
      <ion-input
        label=" {{ 'REFUGES.FORM.ALTITUDE.LABEL' | translate}}"
        label-placement="stacked"
        min="0"
        clear-input="true"
        fill="outline"
        [(ngModel)]="form.altitude"
        name="altitude"
        type="number"
        errorText=" {{ 'REFUGES.FORM.ALTITUDE.ERROR' | translate}}"
        required="true"
      >
      </ion-input>
      <ion-input
        label=" {{ 'REFUGES.FORM.LONGITUDE.LABEL' | translate}}"
        label-placement="stacked"
        fill="outline"
        min="-180"
        max="180"
        clear-input="true"
        [(ngModel)]="form.coordinates.longitude"
        name="longitude"
        type="number"
        errorText=" {{ 'REFUGES.FORM.LONGITUDE.ERROR' | translate}}"
        required="true"
      >
      </ion-input>
      <ion-input
        label=" {{ 'REFUGES.FORM.LATITUDE.LABEL' | translate}}"
        label-placement="stacked"
        fill="outline"
        [(ngModel)]="form.coordinates.latitude"
        name="latitude"
        min="-90"
        max="90"
        clear-input="true"
        type="number"
        errorText=" {{ 'REFUGES.FORM.LATITUDE.ERROR' | translate}}"
        required="true"
      >
      </ion-input>
      <ion-input
        label=" {{ 'REFUGES.FORM.WINTER_CAPACITY.LABEL' | translate}}"
        label-placement="stacked"
        fill="outline"
        min="0"
        clear-input="true"
        [(ngModel)]="form.capacity.winter"
        name="winterCapacity"
        type="number"
        errorText=" {{ 'REFUGES.FORM.WINTER_CAPACITY.ERROR' | translate}}"
        required="true"
      >
      </ion-input>
      <ion-input
        label=" {{ 'REFUGES.FORM.SUMMER_CAPACITY.LABEL' | translate}}"
        label-placement="stacked"
        fill="outline"
        [(ngModel)]="form.capacity.summer"
        min="0"
        clear-input="true"
        name="summerCapacity"
        type="number"
        errorText=" {{ 'REFUGES.FORM.SUMMER_CAPACITY.ERROR' | translate}}"
        required="true"
      >
      </ion-input>
      <ion-note color="danger" *ngIf="hasError"> {{errorMessage}} </ion-note>
      <ion-row>
        <ion-col>
          <ion-button
            (click)="onUpdate(updateRefugeForm)"
            type="submit"
            expand="block"
            >{{ 'REFUGES.UPDATE.SUBMIT' | translate}}
          </ion-button>
        </ion-col>
      </ion-row>
    </form>
  </div>
</ion-content>
